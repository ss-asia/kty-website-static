(function(){var f=function(t,o){this.element=t,this.options=[],this.boundingRect=this.element.getBoundingClientRect(),this.windowHeight=window.innerHeight,this.scrollingFx=[],this.animating=[],this.deltaScrolling=[],this.observer=[],this.scrollableSelector=o,this.scrollableElement=!1,p(this)};function p(t){if(!window.matchMedia("(prefers-reduced-motion: reduce)").matches){b(t);var o=t.element.getAttribute("data-scroll-fx");o?t.options.push(u(o)):g(t,1),w(t),y(t)}}function b(t){t.scrollableSelector&&(t.scrollableElement=document.querySelector(t.scrollableSelector))}function w(t){for(var o=0;o<t.options.length;o++)(function(i){t.scrollingFx[i]=!1,t.deltaScrolling[i]=c(t,i),t.animating[i]=!1,t.observer[i]=new IntersectionObserver(function(s,l){d(t,i,s)},{rootMargin:t.options[i][5]-100+"% 0px "+(0-t.options[i][4])+"% 0px"}),t.observer[i].observe(t.element),setTimeout(function(){a.bind(t,i)()})})(o)}function d(t,o,i,s){if(i[0].isIntersecting){if(t.scrollingFx[o])return;A(t,o),v(t,o)}else{if(!t.scrollingFx[o])return;window.removeEventListener("scroll",t.scrollingFx[o]),t.scrollingFx[o]=!1}}function v(t,o){t.scrollingFx[o]=a.bind(t,o),t.scrollableElement?t.scrollableElement.addEventListener("scroll",t.scrollingFx[o]):window.addEventListener("scroll",t.scrollingFx[o])}function a(t){if(r(this)<this.deltaScrolling[t][0]){n(this,t,this.options[t][1]);return}if(r(this)>this.deltaScrolling[t][1]){n(this,t,this.options[t][2]);return}this.animating[t]||(this.animating[t]=!0,window.requestAnimationFrame(S.bind(this,t)))}function S(t){if(isNaN(this.options[t][1]))r(this)>=this.deltaScrolling[t][1]?n(this,t,this.options[t][2]):n(this,t,this.options[t][1]);else{var o=this.options[t][1]+(this.options[t][2]-this.options[t][1])*(r(this)-this.deltaScrolling[t][0])/(this.deltaScrolling[t][1]-this.deltaScrolling[t][0]);n(this,t,o)}this.animating[t]=!1}function n(t,o,i){if(isNaN(i)){F(t,i);return}t.options[o][0]=="--scroll-fx-skew"||t.options[o][0]=="--scroll-fx-scale"?(t.element.style.setProperty(t.options[o][0]+"-x",i+t.options[o][3]),t.element.style.setProperty(t.options[o][0]+"-y",i+t.options[o][3])):t.element.style.setProperty(t.options[o][0],i+t.options[o][3])}function F(t,o){t.element.getAttribute("data-theme")!=o&&(t.element.classList.add("scroll-fx--theme-transition"),t.element.offsetWidth,t.element.setAttribute("data-theme",o),t.element.addEventListener("transitionend",function i(){t.element.removeEventListener("transitionend",i),t.element.classList.remove("scroll-fx--theme-transition")}))}function g(t,o){var i=t.element.getAttribute("data-scroll-fx-"+o);i&&(t.options.push(u(i)),g(t,o+1))}function u(t){var o=t.split(",").map(function(l){return l.trim()}),i=R(o[1],o[2]),s=[E(o[0]),i[0],i[1],i[2],parseInt(o[3]),parseInt(o[4])];return s}function E(t){for(var o="--scroll-fx-",i=0;i<t.length;i++)o=t[i]==t[i].toUpperCase()?o+"-"+t[i].toLowerCase():o+t[i];return o=="--scroll-fx-rotate"?o="--scroll-fx-rotate-z":o=="--scroll-fx-translate"&&(o="--scroll-fx-translate-x"),o}function R(t,o){var i=parseFloat(t),s=parseFloat(o),l=t.replace(i,"");return isNaN(i)&&(i=t,s=o,l=""),[i,s,l]}function c(t,o){var i=r(t)-(t.windowHeight-(t.windowHeight+t.boundingRect.height)*t.options[o][4]/100)+t.boundingRect.top,s=r(t)-(t.windowHeight-(t.windowHeight+t.boundingRect.height)*t.options[o][5]/100)+t.boundingRect.top;return[i,s]}function y(t){var o=!1;window.addEventListener("resize",function(){clearTimeout(o),o=setTimeout(C.bind(t),500)});var i=new CustomEvent("scrollFxReady");t.element.dispatchEvent(i)}function C(){this.boundingRect=this.element.getBoundingClientRect(),this.windowHeight=window.innerHeight;for(var t=0;t<this.deltaScrolling.length;t++)this.deltaScrolling[t]=c(this,t),a.bind(this,t)();var o=new CustomEvent("scrollFxResized");this.element.dispatchEvent(o)}function A(t,o){t.boundingRect=t.element.getBoundingClientRect(),t.windowHeight=window.innerHeight,t.deltaScrolling[o]=c(t,o)}function r(t){return t.scrollableElement?t.scrollableElement.scrollTop:window.scrollY}window.ScrollFx=f;for(var e=document.getElementsByClassName("js-scroll-fx"),h=0;h<e.length;h++)(function(t){var o=e[t].getAttribute("data-scrollable-element");new f(e[t],o)})(h)})();
