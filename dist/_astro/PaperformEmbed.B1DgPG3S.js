import{p as A,i as j}from"./props.UnMQQM9O.js";import{L as S,a4 as D,R as Y,S as H,a8 as B,h as _,c as F,a9 as K,aa as k,H as z,ab as G,ac as V,A as Z,z as N,ad as w,K as P,ae as y,af as J,B as Q,ag as W,ah as X,ai as $,aj as x,ak as ee,al as se,q as ae,a2 as te,p as ie,l as ne,a as re,f as U,am as oe,an as fe,d as C,b as le,g as c,m as I,s as T,ao as ce,_ as ue,V as de}from"./template.XRdKBFui.js";/* empty css                          */function pe(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function me(e){S===null&&pe(),D&&S.l!==null?ve(S).m.push(e):Y(()=>{const s=H(e);if(typeof s=="function")return s})}function ve(e){var s=e.l;return s.u??={a:[],b:[],m:[]}}function ge(e,s,[t,a]=[0,0]){_&&t===0&&F();var i=e,n=null,r=null,f=J,m=t>0?K:0,d=!1;const b=(v,p=!0)=>{d=!0,E(p,v)},E=(v,p)=>{if(f===(f=v))return;let o=!1;if(_&&a!==-1){if(t===0){const u=k(i);u===z?a=0:u===G?a=1/0:(a=parseInt(u.substring(1)),a!==a&&(a=f?1/0:-1))}const l=a>t;!!f===l&&(i=V(),Z(i),N(!1),o=!0,a=-1)}f?(n?w(n):p&&(n=P(()=>p(i))),r&&y(r,()=>{r=null})):(r?w(r):p&&(r=P(()=>p(i,[t+1,a]))),n&&y(n,()=>{n=null})),o&&N(!0)};B(()=>{d=!1,s(b),d||E(null,null)},m),_&&(i=Q)}const R=[...` 	
\r\fÂ \v\uFEFF`];function _e(e,s,t){var a=""+e;if(t){for(var i in t)if(t[i])a=a?a+" "+i:i;else if(a.length)for(var n=i.length,r=0;(r=a.indexOf(i,r))>=0;){var f=r+n;(r===0||R.includes(a[r-1]))&&(f===a.length||R.includes(a[f]))?a=(r===0?"":a.substring(0,r))+a.substring(f+1):r=f}}return a===""?null:a}function he(e,s,t,a,i,n){var r=e.__className;if(_||r!==t||r===void 0){var f=_e(t,a,n);(!_||f!==e.getAttribute("class"))&&(f==null?e.removeAttribute("class"):e.className=f),e.__className=t}else if(n&&i!==n)for(var m in n){var d=!!n[m];(i==null||d!==!!i[m])&&e.classList.toggle(m,d)}return n}const be=Symbol("is custom element"),Ee=Symbol("is html");function M(e,s,t,a){var i=Le(e);_&&(i[s]=e.getAttribute(s),s==="src"||s==="srcset"||s==="href"&&e.nodeName==="LINK")||i[s]!==(i[s]=t)&&(s==="loading"&&(e[W]=t),t==null?e.removeAttribute(s):typeof t!="string"&&Se(e).includes(s)?e[s]=t:e.setAttribute(s,t))}function Le(e){return e.__attributes??={[be]:e.nodeName.includes("-"),[Ee]:e.namespaceURI===X}}var O=new Map;function Se(e){var s=O.get(e.nodeName);if(s)return s;O.set(e.nodeName,s=[]);for(var t,a=e,i=Element.prototype;i!==a;){t=x(a);for(var n in t)t[n].set&&s.push(n);a=$(a)}return s}function q(e,s){return e===s||e?.[te]===s}function Ie(e={},s,t,a){return ee(()=>{var i,n;return se(()=>{i=n,n=[],H(()=>{e!==t(...n)&&(s(e,...n),i&&q(t(...i),e)&&s(null,...i))})}),()=>{ae(()=>{n&&q(t(...n),e)&&s(null,...n)})}}),e}var Te=U('<div class="loading-container svelte-9aely"><div class="loading-spinner svelte-9aely"></div> <p style="text-align: center;" class="svelte-9aely">Reservation form loading...<br class="svelte-9aely"/> Thanks for your patience <br class="svelte-9aely"/>ğŸ™</p></div>'),Ae=U('<!> <div prefill-inherit=""></div>',1);function ye(e,s){ie(s,!1);const t=I();let a=A(s,"formId",8),i=A(s,"customParams",24,()=>({})),n=I(!0),r=I();function f(o){const{submission_id:l,total:u,data:g,form_id:h}=o.detail;console.log("Raw submission event:",o);const L=new CustomEvent("paperformSubmit",{detail:{submission_id:l,total:u,data:g,form_id:h}});window.dispatchEvent(L)}function m(o){console.log("Raw page change event:",o);const{form_id:l,currentPage:u,totalPages:g}=o.detail,h=new CustomEvent("paperformPageChange",{detail:{form_id:l,currentPage:u,totalPages:g}});window.dispatchEvent(h)}me(()=>{let o,l;function u(){l=c(r).querySelector("iframe"),l&&l.addEventListener("load",()=>{console.log("Iframe loaded"),T(n,!1),o&&o.disconnect()})}o=new MutationObserver(h=>{for(const L of h)L.type==="childList"&&L.addedNodes.length>0&&u()});const g=document.createElement("script");return g.src="https://paperform.co/__embed.min.js",g.onload=()=>{c(r)&&(o.observe(c(r),{childList:!0}),c(r).addEventListener("PaperformSubmission",f),c(r).addEventListener("PaperformPageChange",m),u())},document.body.appendChild(g),()=>{o&&o.disconnect(),c(r)&&(c(r).removeEventListener("PaperformSubmission",f),c(r).removeEventListener("PaperformPageChange",m)),l&&l.removeEventListener("load",()=>{})}}),ne(()=>de(i()),()=>{T(t,Object.entries(i()).map(([o,l])=>`${encodeURIComponent(o)}=${encodeURIComponent(String(l))}`).join("&"))}),re(),j();var d=Ae(),b=oe(d);{var E=o=>{var l=Te();C(o,l)};ge(b,o=>{c(n)&&o(E)})}var v=ce(b,2);let p;Ie(v,o=>T(r,o),()=>c(r)),fe(o=>{M(v,"data-paperform-id",a()),M(v,"prefill",c(t)),p=he(v,1,"svelte-9aely",null,p,o)},[()=>({loading:c(n)})],ue),C(e,d),le()}export{ye as default};
